<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://pic.imgdb.cn/item/66449ed60ea9cb1403009d90.png">
    <title>çˆ±çš„å‘Šç™½</title>
    <link rel="stylesheet" href="style.css">
    <!-- éŸ³ä¹æ’­æ”¾å™¨å¼€å§‹ -->
    <!-- require APlayer -->
    <link rel="stylesheet" href="https://cdn.jsdmirror.cn/npm/aplayer/dist/APlayer.min.css">
    <script src="https://cdn.jsdmirror.cn/npm/aplayer/dist/APlayer.min.js"></script>
    <!-- require MetingJS -->
    <script src="https://cdn.jsdmirror.com/gh/lemonmous/Source-material@1.0/js/Meting.min.js"></script>
    <meting-js fixed="true" autoplay="true" theme="#409EFF" list-folded="true" mini="true"
        auto="https://music.163.com/#/song?id=2724329837"></meting-js>
     <style>
        .aplayer-body {display: none!important;}
    </style>
    <!-- éŸ³ä¹æ’­æ”¾å™¨ç»“æŸ -->
</head>
<body>
    <button id="music-control" class="music-control">ğŸµ</button>
    <div class="hearts-container" id="hearts-container"></div>
    <div class="container">
        <h1>è‡´æˆ‘æœ€çˆ±çš„äºº</h1>
        <div class="message">
            <p>å½“æˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ°åˆ°ä½ çš„ç…§ç‰‡ï¼Œæˆ‘çš„ä¸–ç•Œå°±å˜å¾—ä¸ä¸€æ ·äº†ã€‚ä½ çš„ç¬‘å®¹åƒé˜³å…‰ä¸€æ ·æ¸©æš–ï¼Œä½ çš„çœ¼ç›åƒæ˜Ÿæ˜Ÿä¸€æ ·æ˜äº®ã€‚</p>
            <p>å’Œä½ åœ¨ä¸€èµ·èŠå¤©çš„çš„æ¯ä¸€å¤©ï¼Œéƒ½æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„æ—¶å…‰ã€‚æˆ‘æƒ³å’Œä½ ä¸€èµ·çœ‹æ— æ•°æ¬¡æ—¥å‡ºæ—¥è½ï¼Œä¸€èµ·èµ°è¿‡å››å­£å˜æ¢ã€‚</p>
            <button class="heart-button" id="confess-button">æ‰“å¼€æˆ‘çš„å¿ƒ</button>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="hidden-message" id="hidden-message">
        <h2 style="color: #ff4b5c; margin-bottom: 1.5rem;">æˆ‘å¯¹ä½ çš„çˆ±</h2>
        <p style="font-size: 1.3rem; line-height: 1.8;">äº²çˆ±çš„ï¼Œ</p>
        <p style="font-size: 1.3rem; line-height: 1.8;">æˆ‘æ— æ³•ç”¨è¨€è¯­å®Œå…¨è¡¨è¾¾æˆ‘å¯¹ä½ çš„çˆ±ã€‚å®ƒæ¯”æµ·æ´‹æ›´æ·±ï¼Œæ¯”å¤©ç©ºæ›´å¹¿ã€‚</p>
        <p style="font-size: 1.3rem; line-height: 1.8;">ä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„ç¤¼ç‰©ï¼Œæˆ‘çæƒœå’Œä½ åœ¨ä¸€èµ·çš„æ¯ä¸€åˆ»ã€‚</p>
        <p style="font-size: 1.5rem; font-weight: bold; margin-top: 2rem; color: #ff4b5c;">æˆ‘çˆ±ä½ ï¼Œæ°¸è¿œæ°¸è¿œã€‚</p>
        <button class="heart-button" style="margin-top: 2rem;" id="close-button">çˆ±ä½ </button>
    </div>

    <script>
        // åˆ›å»ºæ¼‚æµ®çš„å¿ƒå½¢
        function createHearts() {
            const container = document.getElementById('hearts-container');
            const colors = ['#ff4b5c', '#ff758f', '#ff8fa3', '#fda4af'];
            const sizes = [15, 20, 25, 30];

            for (let i = 0; i < 50; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');

                // éšæœºå¤§å°
                const size = sizes[Math.floor(Math.random() * sizes.length)];
                heart.style.width = `${size}px`;
                heart.style.height = `${size - 1}px`;
                heart.style.left = `${Math.random() * 100}vw`;
                heart.style.top = `${Math.random() * 100}vh`;

                // éšæœºé¢œè‰²
                heart.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                heart.style.setProperty('--heart-color', heart.style.backgroundColor);

                // éšæœºåŠ¨ç”»å»¶è¿Ÿå’ŒæŒç»­æ—¶é—´
                const delay = Math.random() * 5;
                const duration = 5 + Math.random() * 10;
                heart.style.animationDelay = `${delay}s`;
                heart.style.animationDuration = `${duration}s`;

                container.appendChild(heart);
            }
        }

        // æ˜¾ç¤ºéšè—çš„æ¶ˆæ¯
        const confessButton = document.getElementById('confess-button');
        const hiddenMessage = document.getElementById('hidden-message');
        const overlay = document.getElementById('overlay');
        const closeButton = document.getElementById('close-button');

        confessButton.addEventListener('click', () => {
            overlay.style.display = 'block';
            hiddenMessage.style.display = 'block';
        });

        closeButton.addEventListener('click', () => {
            overlay.style.display = 'none';
            hiddenMessage.style.display = 'none';
        });

        // é¡µé¢åŠ è½½æ—¶åˆ›å»ºå¿ƒå½¢å¹¶æ’­æ”¾éŸ³ä¹
        window.addEventListener('load', () => {
            createHearts();
            
            // å°è¯•è‡ªåŠ¨æ’­æ”¾éŸ³ä¹
            const music = document.getElementById('background-music');
            music.volume = 0.2; // è®¾ç½®éŸ³é‡ä¸º20%
            
            // å³ä½¿æœ‰autoplayå±æ€§ï¼Œä»éœ€è°ƒç”¨play()ä»¥ç¡®ä¿åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½èƒ½æ’­æ”¾
            music.play().catch(error => {
                console.log('éŸ³ä¹è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢:', error);
                // å¦‚æœè‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶å†æ’­æ”¾
                document.getElementById('music-control').addEventListener('click', toggleMusic);
            });
        });

        // éŸ³ä¹æ§åˆ¶å‡½æ•°
        function toggleMusic() {
            const music = document.getElementById('background-music');
            const controlBtn = document.getElementById('music-control');
            if (music.paused) {
                music.play();
                controlBtn.textContent = 'ğŸ”Š';
            } else {
                music.pause();
                controlBtn.textContent = 'ğŸ”‡';
            }
        }

        // æ·»åŠ éŸ³ä¹æ§åˆ¶æŒ‰é’®äº‹ä»¶ç›‘å¬
        document.getElementById('music-control').addEventListener('click', toggleMusic);

        // ç‚¹å‡»"æ‰“å¼€æˆ‘çš„å¿ƒ"æŒ‰é’®æ—¶ä¹Ÿæ’­æ”¾éŸ³ä¹
        document.getElementById('confess-button').addEventListener('click', () => {
            const music = document.getElementById('background-music');
            if (music.paused) {
                music.play();
                document.getElementById('music-control').textContent = 'ğŸ”Š';
            }
        });
    </script>
</body>
</html>